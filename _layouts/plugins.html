{% include header.html %}

{% for category in plugin.categories %}
    {{ category }}
{% endfor %}


    <div class="mx-auto max-w-4xl my-12">
        <h1 class="text-5xl mb-12">Plugins - {{ page.title }}</h1>
    </div>

    <div class="flex gap-12 mx-auto max-w-4xl my-12">

        <nav class="min-w-[250px] border rounded p-4">
            
            {% assign grouped = site.plugins | group_by: 'category' %}
            {% assign path_array = page.path | split: "/" %}            
            {% for plugin in site.plugins %}
            {% if plugin.url contains path_array[1] %}
                
                <h2 class=" border-b border-slate-100 !py-4">
                    <a href="{{ plugin.url }}">{{ plugin.title }}</a>
                </h2>
    
            {% endif %}
            {% endfor %}

            {% for group in grouped %}
            
                <li class="nav-item top-level {% if group.name == page.category %}current{% endif %}">
                    {% assign items = group.items | sort: 'order' %}

                    
                    <h2>{{ group.name }}</h2>
                    <ul class=" pl-4">
                        {% for item in items %}
                            <li class="nav-item {% if item.url == page.url %}current{% endif %}"><a href="{{ site.baseurl }}{{ item.url }}">{{ item.title }}</a></li>
                        {% endfor %}
                    </ul>
                </li>
            {% endfor %}

            <!-- <h3 class="font-bold text-2xl mb-4">Sidebar</h3>
                        
            {% assign path_array = page.path | split: "/" %}            
            {% for plugin in site.plugins %}
            {% if plugin.url contains path_array[1] %}
                
                <h2 class=" border-b border-slate-100 !py-4">
                    <a href="{{ plugin.url }}">{{ plugin.title }}</a>
                </h2>
    
            {% endif %}
            {% endfor %}

            <hr class="my-12">

            <ul>
                
                {% assign grouped = site.plugins | group_by: 'category' %}
                {% for group in grouped %}
                
                    <li class="nav-item top-level {% if group.name == page.category %}current{% endif %}">
                        {% assign items = group.items | sort: 'order' %}

                        
                        <h2>{{ group.name }}</h2>
                        <ul class=" pl-4">
                            {% for item in items %}
                                <li class="nav-item {% if item.url == page.url %}current{% endif %}"><a href="{{ site.baseurl }}{{ item.url }}">{{ item.title }}</a></li>
                            {% endfor %}
                        </ul>
                    </li>
                {% endfor %}
            </ul> -->


        </nav>

        <main class=" mx-auto max-w-4xl my-12"> 
            
            {{ content }}
        </main>

    </div>

{% include footer.html %}